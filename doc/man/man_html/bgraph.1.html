<!--#exec cmd="header bgraph" -->
<ul>
</ul><H2>NAME </H2><ul>

bgraph - do a set of batch graphs to a metafile

</ul><H2>SYNOPSIS </H2><ul>

<b>bgraph</b> 
[
<b>-type</b> <b>..</b> 
][
<b>+variable</b> <b>value</b> <b>..</b> 
][
<b>file</b> <b>..</b> 
]

</ul><H2>DESCRIPTION </H2><ul>

<i>Bgraph</i> 
reads each graph
<i>file</i> 
in sequence and converts it to a plot suitable
for use by a metafile driver program.
If no files are given, the standard input is read.

<p>
The graph type can be defined with a
<i>-type</i> 
option.
Types are simply include files which set default values for
certain variables.
The actual include file name is the type concatanated with ".plt".
Typical types are "scatter", "line", and "curve".
A scatter graph shows only points.
A line graph shows only lines connecting points.
A curve graph shows both points and connecting lines.

<p>
Variables can be set explicitly with
<i>+variable</i> <i>value</i> 
options.
The following standard graph variables are supported:
<p><dl compact><dt><b>fthick</b>
<dd>The frame thickness, valued from 0 to 4.
A value of 0 turns the frame off.
<dt><b>grid</b>
<dd>The grid: 1 is on, 0 is off.
<dt><b>include</b>
<dd>The include file name.
Graph input is taken from the file.
If the file is not found in the current directory, it is
searched for in a set of standard locations.
<dt><b>legend</b>
<dd>The legend title.
<dt><b>othick</b>
<dd>The origin axis thickness, valued from 0 to 4.
A value of 0 turns the origin off.
<dt><b>period</b>
<dd>The period for a polar plot.
For a plot in degrees, use 360.
For radians, use 6.283.
A value of 0 (the default) indicates a Cartesian plot.
<dt><b>subtitle</b>
<dd>The graph subtitle.
<dt><b>symfile</b>
<dd>The point symbol metafile.
<dt><b>tstyle</b>
<dd>The frame tick mark style.
The default value is 1, which is outward tick marks.
A value of 2 is inward ticks, 3 is cross ticks.
A value of 0 disables frame tick marks.
<dt><b>title</b>
<dd>The graph title.
<dt><b>xlabel</b>
<dd>The x axis label.
<dt><b>xmap</b>
<dd>The x axis mapping function.
An x axis mapping xmap(x)=log(x) produces a log x axis.
<dt><b>xmax</b>
<dd>The x axis maximum.
<dt><b>xmin</b>
<dd>The x axis minimum.
<dt><b>xstep</b>
<dd>The x axis step.
<dt><b>ylabel</b>
<dd>The y axis label.
<dt><b>ymap</b>
<dd>The y axis mapping function.
An y axis mapping ymap(y)=log(y) produces a log y axis.
<dt><b>ymax</b>
<dd>The y axis maximum.
<dt><b>ymin</b>
<dd>The y axis minimum.
<dt><b>ystep</b>
<dd>The y axis step.
</dl>
<p>
In addition to the standard graph variables, each curve
has a set of variables.
The variables for curve 'A' all begin with the letter 'A';
the variables for curve 'B' all begin with the letter 'B',
and so on.
Up to 8 curves are supported on a single graph, 'A'
through 'H'.
The variables for curve 'A' are:
<p><dl compact><dt><b>A</b>
<dd>The function for curve 'A'.
If
<i>Adata</i> 
is undefined,
<i>xmin,</i> 
<i>xmax</i> 
and
<i>Anpoints</i> 
are used to determine which x values to plot.
If
<i>Adata</i> 
is defined and
<i>A</i> 
is a function of a single variable (ie. A(x)),
data values are interpreted as x values to be plotted.
If
<i>Adata</i> 
is defined and
<i>A</i> 
is a function of two variables (ie. A(x,y)),
data values are interpreted as (x,y) pairs and
<i>A</i> 
becomes a mapping function for the data.
<dt><b>Acolor</b>
<dd>The color for curve A.
The values 1-4 map to black, red, green, and blue respectively.
A value of 0 turns curve A off.
<dt><b>Adata</b>
<dd>The point data for curve 'A'.
If
<i>Adata</i> 
is set to the name of a file,
data is read and interpreted from that file.
If
<i>Adata</i> 
is set to a command (beginning with an exclamation, '!'),
the output of the command is read as data.
Otherwise, data is read from the current file.
Data values are separated by white space and/or commas.
A semicolon or end of file indicates the end of data.
<dt><b>Alabel</b>
<dd>The label for curve 'A'.
The curve label is printed in the legend when a curve is defined.
<dt><b>Alintype</b>
<dd>The line type for curve 'A', valued from 0 to 4.
A value of 0 turns line drawing off.
A value of 1 is solid, 2 is dashed, 3 is dotted, and 4 is dot-dashed.
<dt><b>Anpoints</b>
<dd>The number of symbol points for curve 'A'.
If
<i>Adata</i> 
is defined, all points will be connected with the selected
curve line, but only
<i>Anpoints</i> 
points will be indicated with a symbol.
This prevents messy graphs when large number of points are defined.
If
<i>A</i> 
is defined and
<i>Adata</i> 
is not,
<i>Anpoints</i> 
is used along with
<i>xmin</i> 
and
<i>xmax</i> 
to determine which x values to plot.
<dt><b>Asymsize</b>
<dd>The symbol radius for curve 'A'.
The default size is 100.
A value of 0 turns symbols off.
<dt><b>Asymtype</b>
<dd>This is the name of a segment in
<i>symfile</i> 
which defines the graphics symbol for curve 'A'.
<dt><b>Athick</b>
<dd>The line thickness for curve 'A', valued from 0 to 4.
A thickness of 0 turns line drawing off.
</dl>
</ul><H2>GRAPH FILE FORMAT </H2><ul>

A graph file contains definitions for graph and curve
variables.
These definitions fall one per line in the following formats:
<pre>

<p><br>	vreal        = expression       # real variable
<br>	vfunction(x) = expression(x)    # function
<br>	vstring      = "string"         # string variable
<br>	vdata        = filename         # data file
<br>	vdata        = "!command"       # data generator
<br>	variable     = continued \
<br>	        line                    # newline escaped
<br>	vdata        =                  # data
<br>		v1 v2 v3 v4 ... ;
<br>
<p><br></pre>
Comments are preceded by a '#', and continue to the end
of the line.
Except for comments, the newline can be escaped with a backslash.
Note that in the special case where data is contained in
the graph file, a definition will continue over more than
one line.
Data values can be separated by commas or white space, and
reading continues until a semicolon is reached.
No comments are allowed in the data section of a file.

<p>
An expression is an algebraic formula containing numbers,
variables, functions, and the standard operators
{+,-,*,/,^,(,)} (see icalc(1)).
Besides the variables described in the last section,
definitions of intermediate real variables and functions
are allowed for convenience.
They may be used in expressions of graph and curve variables.

</ul><H2>EXAMPLE </H2><ul>

A file to graph the sine function is:
<pre>

<p><br>	title = "Sine Function from 0 to Pi"
<br>	PI = 3.141592653589793
<br>	A(x) = sin(x)
<br>	xmin = 0
<br>	xmax = PI
<br>	Anpoints = 100
<br>
<p><br></pre>
Or, to graph selected points:
<pre>

<p><br>	title = "Sine Function at 0, .2, .6, and .8"
<br>	A(x) = sin(x)
<br>	Adata =
<br>		0 , .2
<br>		.6 , .8
<br>	;
<br>
<p><br></pre>
The commands to plot these files might be:
<pre>

<p><br>	bgraph -line sine1.plt | psmeta | lpr
<br>
<p><br>	bgraph -curve +ymin -1 +ymax 1 sine2.plt | x11meta
<br>
<p><br></pre>

</ul><H2>FILES </H2><ul>

/usr/local/lib/meta/*.mta
/usr/local/lib/meta/*.plt
*.plt

</ul><H2>AUTHOR </H2><ul>

Greg Ward

</ul><H2>BUGS </H2><ul>

There is no mechanism provided for undefining a variable.
An axis mapping function which is not invertible (monotonically
increasing or decreasing) confuses the program terribly.

</ul><H2>SEE ALSO </H2><ul>

dgraph(1), gcomp(1), icalc(1), igraph(1),
metafile(5), x11meta(1)
</ul>
<!--#exec cmd="trailer" -->
